(()=>{var __webpack_modules__={562:e=>{function _(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function t(e,_){return"constructor"===_&&"function"==typeof e[_]||"__proto__"===_}e.exports=function(e,r){r||(r={});var o={bools:{},strings:{},unknownFn:null};"function"==typeof r.unknown&&(o.unknownFn=r.unknown),"boolean"==typeof r.boolean&&r.boolean?o.allBools=!0:[].concat(r.boolean).filter(Boolean).forEach((function(e){o.bools[e]=!0}));var n={};Object.keys(r.alias||{}).forEach((function(e){n[e]=[].concat(r.alias[e]),n[e].forEach((function(_){n[_]=[e].concat(n[e].filter((function(e){return _!==e})))}))})),[].concat(r.string).filter(Boolean).forEach((function(e){o.strings[e]=!0,n[e]&&(o.strings[n[e]]=!0)}));var a=r.default||{},i={_:[]};Object.keys(o.bools).forEach((function(e){s(e,void 0!==a[e]&&a[e])}));var c=[];function s(e,t,r){if(!r||!o.unknownFn||function(e,_){return o.allBools&&/^--[^=]+$/.test(_)||o.strings[e]||o.bools[e]||n[e]}(e,r)||!1!==o.unknownFn(r)){var a=!o.strings[e]&&_(t)?Number(t):t;f(i,e.split("."),a),(n[e]||[]).forEach((function(e){f(i,e.split("."),a)}))}}function f(e,_,r){for(var n=e,a=0;a<_.length-1;a++){if(t(n,i=_[a]))return;void 0===n[i]&&(n[i]={}),n[i]!==Object.prototype&&n[i]!==Number.prototype&&n[i]!==String.prototype||(n[i]={}),n[i]===Array.prototype&&(n[i]=[]),n=n[i]}var i;t(n,i=_[_.length-1])||(n!==Object.prototype&&n!==Number.prototype&&n!==String.prototype||(n={}),n===Array.prototype&&(n=[]),void 0===n[i]||o.bools[i]||"boolean"==typeof n[i]?n[i]=r:Array.isArray(n[i])?n[i].push(r):n[i]=[n[i],r])}function l(e){return n[e].some((function(e){return o.bools[e]}))}-1!==e.indexOf("--")&&(c=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var u=0;u<e.length;u++){var p=e[u];if(/^--.+=/.test(p)){var E=p.match(/^--([^=]+)=([\s\S]*)$/),b=E[1],O=E[2];o.bools[b]&&(O="false"!==O),s(b,O,p)}else if(/^--no-.+/.test(p))s(b=p.match(/^--no-(.+)/)[1],!1,p);else if(/^--.+/.test(p))b=p.match(/^--(.+)/)[1],void 0===(h=e[u+1])||/^-/.test(h)||o.bools[b]||o.allBools||n[b]&&l(b)?/^(true|false)$/.test(h)?(s(b,"true"===h,p),u++):s(b,!o.strings[b]||"",p):(s(b,h,p),u++);else if(/^-[^-]+/.test(p)){for(var g=p.slice(1,-1).split(""),P=!1,d=0;d<g.length;d++){var h;if("-"!==(h=p.slice(d+2))){if(/[A-Za-z]/.test(g[d])&&/=/.test(h)){s(g[d],h.split("=")[1],p),P=!0;break}if(/[A-Za-z]/.test(g[d])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(h)){s(g[d],h,p),P=!0;break}if(g[d+1]&&g[d+1].match(/\W/)){s(g[d],p.slice(d+2),p),P=!0;break}s(g[d],!o.strings[g[d]]||"",p)}else s(g[d],h,p)}b=p.slice(-1)[0],P||"-"===b||(!e[u+1]||/^(-|--)[^-]/.test(e[u+1])||o.bools[b]||n[b]&&l(b)?e[u+1]&&/^(true|false)$/.test(e[u+1])?(s(b,"true"===e[u+1],p),u++):s(b,!o.strings[b]||"",p):(s(b,e[u+1],p),u++))}else if(o.unknownFn&&!1===o.unknownFn(p)||i._.push(o.strings._||!_(p)?p:Number(p)),r.stopEarly){i._.push.apply(i._,e.slice(u+1));break}}return Object.keys(a).forEach((function(e){var _,t,r;_=i,t=e.split("."),r=_,t.slice(0,-1).forEach((function(e){r=r[e]||{}})),t[t.length-1]in r||(f(i,e.split("."),a[e]),(n[e]||[]).forEach((function(_){f(i,_.split("."),a[e])})))})),r["--"]?(i["--"]=new Array,c.forEach((function(e){i["--"].push(e)}))):c.forEach((function(e){i._.push(e)})),i}},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")}},__webpack_module_cache__={};function __webpack_require__(e){var _=__webpack_module_cache__[e];if(void 0!==_)return _.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=e=>{var _=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(_,{a:_}),_},__webpack_require__.d=(e,_)=>{for(var t in _)__webpack_require__.o(_,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:_[t]})},__webpack_require__.o=(e,_)=>Object.prototype.hasOwnProperty.call(e,_);var __webpack_exports__={};(()=>{"use strict";var minimist__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(562),minimist__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(minimist__WEBPACK_IMPORTED_MODULE_0__),fs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(147),fs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),path__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__),_templateObject;function _taggedTemplateLiteral(e,_){return _||(_=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(_)}}))}var options=minimist__WEBPACK_IMPORTED_MODULE_0___default()(process.argv.slice(2)),XCONFIG_PATH=String.raw(_templateObject||(_templateObject=_taggedTemplateLiteral(["",""])),options.xconfig||""),XCONFIG_DIR_PATH=path__WEBPACK_IMPORTED_MODULE_2___default().dirname(XCONFIG_PATH),ENV=(process.env.XConfigGenENV||"").toUpperCase();if(!ENV)throw new Error("请配置系统环境变量【XConfigGenENV】，如：DEV、FAT、PRD！");if(console.log("当前所在系统环境为：".concat(ENV)),!XCONFIG_PATH||!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(XCONFIG_PATH))throw new Error("请提供有效的配置文件 JSON 数据源！");console.log("当前配置数据源路径是：".concat(XCONFIG_PATH));var lib={readFileSync:function(e){return fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(path__WEBPACK_IMPORTED_MODULE_2___default().resolve(XCONFIG_DIR_PATH,e),"utf-8")},writeFileSync:function(e,_){fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(path__WEBPACK_IMPORTED_MODULE_2___default().resolve(XCONFIG_DIR_PATH,e),_,"utf-8")}},xconfigContent=lib.readFileSync(XCONFIG_PATH);console.log("当前配置数据源内容是：",xconfigContent);var xconfigData=JSON.parse(xconfigContent);Object.keys(xconfigData.configs).forEach((function(k){var m=xconfigData.configs[k];console.log("正在处理："+m.name);var config=m.val[ENV];if(!config)throw new Error("配置文件中必须要提供【".concat(m.name,"】在环境【").concat(ENV,"】的配置信息！"));m.cfg.forEach((function(cf){var content=lib.readFileSync(cf.source);lib.writeFileSync(cf.target,eval("`"+content+"`")),console.log("文件已生成：".concat(cf.target,"。"))}))}))})()})();